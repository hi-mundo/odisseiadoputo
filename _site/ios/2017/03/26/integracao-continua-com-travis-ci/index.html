<!DOCTYPE html>
<html lang="pt-BR">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Blog de tecnologia e desenvolvimento ‚Äî artigos, tutoriais e opini√£o.">

    <title>Integra√ß√£o Cont√≠nua com Travis-CI - A odisseia do puto</title>

    <link rel="canonical" href="http://localhost:4000/ios/2017/03/26/integracao-continua-com-travis-ci/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">
    <link rel="stylesheet" href="/css/odisseia.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
    
    <!-- Share CSS -->
    <link rel="stylesheet" href="/css/share.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="A odisseia do puto" />

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3228626608941163"
         crossorigin="anonymous"></script>

    

</head>


<body>
    <!-- Fundo est√°tico com efeito fog (fixo; conte√∫do rola por cima) -->
    <div id="fog-bg" class="fog-bg" aria-hidden="true">
        <div class="fog-layer fog-layer-1"></div>
        <div class="fog-layer fog-layer-2"></div>
        <div class="fog-layer fog-layer-3"></div>
        <div class="fog-vignette"></div>
    </div>

    <div id="site-wrap" class="site-wrap">
        <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">A odisseia do puto</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
				
                <li>
                    <a href="/about/">Sobre</a>
                </li>
				
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

        <!-- Post Header -->
<header class="intro-header">
    <div class="intro-header-overlay">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Integra√ß√£o Cont√≠nua com Travis-CI</h1>
                        
                        <h2 class="subheading">Chegou a hora de ter menos dores de cabe√ßa durante o desenvolvimento do seu app.</h2>
                        
                        <span class="meta">Postado por Fabricio Serralvo em 26/03/2017</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article class="reading-content">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
				<h1 id="lorem-ipsum-dolor-sit">Lorem Ipsum Dolor Sit</h1>

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>

<p>Voc√™ pode ler um pouco mais sobre o assunto <a href="https://example.com">aqui (conte√∫do em ingl√™s)</a>.</p>

<h1 id="travis-ci">Travis CI</h1>

<p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<p>O uso do Travis para projetos <em>open source</em> √© gratuito üéâ. Para utiliz√°-lo em projetos privados voc√™ ter√° que desembolsar alguns d√≥lares.</p>

<p>Para come√ßar a utilizar basta acessar <a href="https://travis-ci.org">travis-ci.org</a> para projetos <em>open source</em> ou <a href="https://travis-ci.com">travis-ci.com</a> para projetos privados.</p>

<h1 id="benef√≠cios">Benef√≠cios</h1>

<p>Entre os benef√≠cios do uso do Travis destaco a velocidade em que os problemas corriqueiros s√£o encontrados. Outro ponto interessante √© a integra√ß√£o realizada pelo Travis com o GitHub.</p>

<p><img src="/img/serralvo/commits-travis.png" alt="" /></p>

<p><em>Marca√ß√£o visual do status da build</em></p>

<h1 id="hora-do-show">Hora do Show</h1>

<p>Para exemplificar o funcionamento do Travis criei um projeto. Esse projeto gerou tr√™s √≠tens para explorarmos:</p>

<ul>
  <li>Ser√° necess√°rio gerenciar as depend√™ncias do projeto.</li>
  <li>Execu√ß√£o da <em>build</em>.</li>
  <li>Por fim, notificaremos o time sobre o <em>status</em> do projeto.</li>
</ul>

<h1 id="arquivo-travisyml">Arquivo .travis.yml</h1>

<p>Para que essas tarefas listadas acima funcionem, n√≥s precisaremos criar um arquivo que fornecer√° instru√ß√µes para o Travis. A√≠ √© que entra o <code class="language-plaintext highlighter-rouge">.travis.yml</code>.</p>

<p>Antes de come√ßarmos a escrever o arquivo de configura√ß√£o, precisamos entender como funciona o ciclo de vida do processo de <em>build</em> do Travis. O Travis divide a execu√ß√£o do <em>job</em> em duas etapas.</p>

<p><img src="/img/serralvo/travis-ci-org.png" alt="" /></p>

<p>O pr√≥ximo passo √© ‚Äúativar‚Äù o Travis para o reposit√≥rio desejado.</p>

<p><img src="/img/serralvo/start-travis.png" alt="" /></p>

<p>Ap√≥s o cadastro chegou a hora de criar o arquivo <em>.travis.yml</em> na raiz do reposit√≥rio. Veja abaixo:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>language: objective-c
osx_image: xcode8.1
</code></pre></div></div>

<p>U√©, <code class="language-plaintext highlighter-rouge">objective-c</code>?! Mas o projeto n√£o est√° escrito em Swift? Sim, at√© o momento o Travis utiliza o valor <code class="language-plaintext highlighter-rouge">objective-c</code> para Swift e tamb√©m para Objective-C.</p>

<h2 id="baixando-as-depend√™ncias">Baixando as depend√™ncias</h2>

<p>Se voc√™ j√° usou CocoaPods ao menos uma vez, sabe que basta executar <code class="language-plaintext highlighter-rouge">pod install</code>. No ambiente do Travis isso √© um pouco diferente:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>podfile: path/to/Podfile
</code></pre></div></div>

<p>Se o seu projeto usa outro gerenciador de depend√™ncias:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>install: sh dependencies.sh
</code></pre></div></div>

<h2 id="build-e-sucesso">Build e Sucesso</h2>

<p>Ap√≥s obter as depend√™ncias do projeto, basta apenas configurar alguns par√¢metros para a execu√ß√£o da <em>build</em>. S√£o eles:</p>

<ul>
  <li><em>Path</em> do <code class="language-plaintext highlighter-rouge">xcworkspace</code> ou <code class="language-plaintext highlighter-rouge">xcproject</code>.</li>
  <li>Algum <em>scheme</em> com a op√ß√£o <em>shared</em> ativada.</li>
  <li>SDK que ser√° usado (no caso estamos usando <code class="language-plaintext highlighter-rouge">iphonesimulator</code>).</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>script:
  - xcodebuild -workspace DemoTravisCI.xcworkspace -scheme 'DemoTravisCI' -sdk iphonesimulator build
</code></pre></div></div>

<p>Sendo assim, no momento o arquivo <code class="language-plaintext highlighter-rouge">.travis.yml</code> possui o seguinte conte√∫do:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>language: objective-c
osx_image: xcode8.1

script:
  - xcodebuild -workspace DemoTravisCI.xcworkspace  -scheme DemoTravisCI -sdk iphonesimulator build
</code></pre></div></div>

<h2 id="notifica√ß√µes">Notifica√ß√µes</h2>

<p>Para detectar poss√≠veis problemas com o projeto, √© interessante compartilhar o status da <em>build</em> com o time. O Travis prov√™ diversas op√ß√µes para notifica√ß√µes. No nosso caso, vamos ser avisados via Slack üì¢.</p>

<p>Para isso, o primeiro passo √© adicionar uma nova integra√ß√£o ao Slack. Conclu√≠do tal passo, vamos incluir a chave <code class="language-plaintext highlighter-rouge">notifications</code> no arquivo <code class="language-plaintext highlighter-rouge">.travis.yml</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>notifications:
  slack: yourteam:G1P621hDDwEH3pXeCcJpck8i
</code></pre></div></div>

<p>Importante: Caso seu projeto seja aberto, √© recomendado criptografar a chave.</p>

<h1 id="considera√ß√µes-finais">Considera√ß√µes Finais</h1>

<p>Ferramentas de integra√ß√£o cont√≠nua s√£o realidade no mercado e fazem parte da rotina de qualquer grande projeto de software. Se voc√™ se interessou pelo assunto e deseja implantar tal processo em seus projetos, saiba que existem diversas op√ß√µes, como Jenkins, Xcode Server, CircleCI, entre outras.</p>

<p>Para finalizar, Integra√ß√£o Cont√≠nua √© um dos pilares do desenvolvimento √°gil üôÉ.</p>

<h3 id="referencias">Referencias:</h3>

<ul>
  <li><a href="https://docs.travis-ci.com/user/getting-started/">Getting started</a></li>
  <li><a href="https://docs.travis-ci.com/user/languages/objective-c/">Building an Objective-C Project</a></li>
  <li><a href="https://docs.travis-ci.com/user/notifications/">Notifications</a></li>
</ul>


                <!-- Bloco de ad estilizado como TV ‚Äî placeholder criativo -->
<aside class="ad-tv" role="complementary" aria-label="Espa√ßo publicit√°rio">
  <div class="ad-tv-frame">
    <div class="ad-tv-screen">
      <div class="ad-tv-placeholder">
        <span class="ad-tv-label">Publicidade</span>
        <span class="ad-tv-size">300 √ó 250</span>
      </div>
    </div>
    <div class="ad-tv-stand"></div>
    <p class="ad-tv-joke">escritor tamb√©m passa fome</p>
  </div>
</aside>


                <hr>

                <ul class="pager">
                    
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>

        <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p class="copyright text-muted">A odisseia do puto ‚Äî Raimundo Pessoa & Frederico Doido</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>

    </div>

    <script src="/js/fog.js"></script>
<script src="/js/filter.js"></script>
</body>

</html>
