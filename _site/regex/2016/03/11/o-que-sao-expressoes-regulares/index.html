<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Blog de tecnologia e desenvolvimento — artigos, tutoriais e opinião.">

    <title>Seja um desenvolvedor regular - A odisseia do puto</title>

    <link rel="canonical" href="http://localhost:4000/regex/2016/03/11/o-que-sao-expressoes-regulares/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">
    <link rel="stylesheet" href="/css/odisseia.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
    
    <!-- Share CSS -->
    <link rel="stylesheet" href="/css/share.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="A odisseia do puto" />

    

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">A odisseia do puto</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
				
                <li>
                    <a href="/about/">Sobre</a>
                </li>
				
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header">
    <div class="intro-header-overlay">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Seja um desenvolvedor regular</h1>
                        
                        <h2 class="subheading">Adicionando expressões regulares no seu dia-a-dia</h2>
                        
                        <span class="meta">Postado por Diego Ventura em 11/03/2016</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="share">
  <li><a href="https://twitter.com/intent/tweet?text=Seja um desenvolvedor regular&url=http://localhost:4000/regex/2016/03/11/o-que-sao-expressoes-regulares/" rel="nofollow" target="_blank" title="Share on Twitter"><i class="fa fa-twitter-square"></i></a></li>
  <li><a href="https://facebook.com/sharer.php?u=http://localhost:4000/regex/2016/03/11/o-que-sao-expressoes-regulares/" rel="nofollow" target="_blank" title="Share on Facebook"><i class="fa fa-facebook-square"></i></a></li>
  <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/regex/2016/03/11/o-que-sao-expressoes-regulares/" rel="nofollow" target="_blank" title="Share on Linkedlin"><i class="fa fa-linkedin-square"></i></a></li>
  <li><a href="https://plus.google.com/share?url=http://localhost:4000/regex/2016/03/11/o-que-sao-expressoes-regulares/" rel="nofollow" target="_blank" title="Share on Google+"><i class="fa fa-google-plus-square"></i></a></li>
</ul>

				<blockquote>
  <p>Diego Ventura (<a href="https://twitter.com/venturadiego" target="_blank">@venturadiego</a>) é carioca daqueles que falam xêro, bixcoitu e caô. É desenvolvedor iOS desde 2012 e faz parte do time mobile da OLXBrasil. Acredita que Objective-C é amor e Swift é paixão. Pra ele, o equinociOS é mais uma forma de retribuir <em>para</em> a comunidade tudo o que ele aprendeu <em>pela</em> comunidade.</p>
</blockquote>

<h2 id="o-que-são-expressões-regulares">O que são expressões regulares</h2>
<p>Expressão regular, vulgo <em>regex</em>, é um padrão de caracter que tem como objetivo identificar em uma <em>string</em> um padrão definido. Esse padrão pode ser palavras, caracteres específicos, números e expressões. Imagine o conjunto de palavras {sossego, prato, assadura, casa, passas} e você precisa separar todas as palavras que possuem <code class="language-plaintext highlighter-rouge">ss</code>. A primeira coisa que vem a mente é verificar palavra por palavra e checar se essa palavra contém <code class="language-plaintext highlighter-rouge">ss</code>. Com expressões regulares, você define um padrão e utiliza esse padrão para buscar as palavras que se encaixam nele. Se você for do tipo questionador, pode dizer: tá, mas isso eu faço com um <code class="language-plaintext highlighter-rouge">if</code> simples. Ok, concordo, mas e se quiser somente as palavras que contêm <code class="language-plaintext highlighter-rouge">ss</code> e que terminam com vogais (fica aí um exercício para quando terminar de ler o artigo)? É aí que entram as expressões regulares!</p>

<h2 id="como-funcionam-as-expressões-regulares">Como funcionam as expressões regulares</h2>
<p>As expressões regulares são formadas por <em>metacaracteres</em> que, de acordo com a sua funcionalidade, dão mais poder às pesquisas. Elas formam padrões que, em alguns casos, são quase impossíveis de serem especificados utilizando caracteres comuns.</p>

<p>Os <em>metacaracteres</em> são divididos em 4 (quatro) grupos: Especificadores, Quantificadores, Âncoras e Agrupamento. Para facilitar o entendimento, segue abaixo uma tabela com cada caracter e sua funcionalidade, separados por grupos.</p>

<h4 id="especificadores">Especificadores</h4>
<p>Especificam (daí o nome) um conjunto de caracteres a partir de uma posição.</p>

<table>
  <thead>
    <tr>
      <th>Metacaracter</th>
      <th style="text-align: right">Funcionalidade</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">.</code></td>
      <td style="text-align: right">Qualquer caracter</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">...</code></td>
      <td style="text-align: right">Qualquer caracter incluído no conjunto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">^...</code></td>
      <td style="text-align: right">Qualquer caracter <em>não</em> incluído no conjunto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\d</code></td>
      <td style="text-align: right">Qualquer caracter que seja um número (o mesmo que <code class="language-plaintext highlighter-rouge">[0-9]</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\D</code></td>
      <td style="text-align: right">Qualquer caracter que <em>não</em> seja um número (o mesmo que <code class="language-plaintext highlighter-rouge">[^0-9]</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">s</code></td>
      <td style="text-align: right">Qualquer caracter <em>branco</em> (espaços, quebra de linha, <em>tabs</em>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">S</code></td>
      <td style="text-align: right">Qualquer caracter <em>não</em> <em>branco</em></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">w</code></td>
      <td style="text-align: right">Qualquer caracter alfa numérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">W</code></td>
      <td style="text-align: right">Qualquer caracter <em>não</em> alfa numérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\</code></td>
      <td style="text-align: right">Ignora o significado do próximo caracter na expressão. Ex.: Se quiser representar um <code class="language-plaintext highlighter-rouge">.</code> (ponto final), você utiliza <code class="language-plaintext highlighter-rouge">\.</code>. Dessa forma o <code class="language-plaintext highlighter-rouge">.</code> não vai representar qualquer caracter</td>
    </tr>
  </tbody>
</table>

<h4 id="quantificadores">Quantificadores</h4>
<p>Definem o número de repetições permitidas pela expressão anterior</p>

<table>
  <thead>
    <tr>
      <th>Metacaracter</th>
      <th style="text-align: right">Funcionalidade</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">{n}</code></td>
      <td style="text-align: right">Busca por exatamente <code class="language-plaintext highlighter-rouge">n</code> ocorrências. Ex.: A expressão <code class="language-plaintext highlighter-rouge">\d{4}</code> procura por um número de 4 dígitos</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">{n,m}</code></td>
      <td style="text-align: right">Busca por um mínimo de <code class="language-plaintext highlighter-rouge">n</code> e um máximo de <code class="language-plaintext highlighter-rouge">m</code> ocorrências</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">{n,}</code></td>
      <td style="text-align: right">Busca por no mínimo <code class="language-plaintext highlighter-rouge">n</code> ocorrências</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">{,n}</code></td>
      <td style="text-align: right">Busca por no máximo <code class="language-plaintext highlighter-rouge">n</code> ocorrências</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">?</code></td>
      <td style="text-align: right">Busca por 1 (uma) ou nenhuma ocorrência</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">+</code></td>
      <td style="text-align: right">Busca por 1 (uma) ou mais ocorrências</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">*</code></td>
      <td style="text-align: right">Busca por 0 (zero) ou mais ocorrências</td>
    </tr>
  </tbody>
</table>

<h4 id="âncoras">Âncoras</h4>
<p>Definem as posições de referência para o <em>match</em> da expressão regular.</p>

<table>
  <thead>
    <tr>
      <th>Metacaracter</th>
      <th style="text-align: right">Funcionalidade</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">^</code></td>
      <td style="text-align: right">Define a posição do início do texto ou de uma nova linha (em caso de textos multi-linhas)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\A</code></td>
      <td style="text-align: right">Define a posição do início do texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">$</code></td>
      <td style="text-align: right">Define a posição do fim do texto ou de uma linha (em caso de textos multi-linhas)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Z</code></td>
      <td style="text-align: right">Define a posição do fim do texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">b</code></td>
      <td style="text-align: right">Define a posição de borda, ou seja, logo antes do início de uma palavra ou logo após o fim da palavra</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">B</code></td>
      <td style="text-align: right">Define a posição de <em>não</em> borda</td>
    </tr>
  </tbody>
</table>

<h4 id="agrupamento">Agrupamento</h4>
<p>Definem grupos</p>

<table>
  <thead>
    <tr>
      <th>Metacaracter</th>
      <th style="text-align: right">Funcionalidade</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">(...)</code></td>
      <td style="text-align: right">Define um grupo para aplicação de um quantificador</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">...|...</code></td>
      <td style="text-align: right">Define uma alternativa para a aplicação da expressão. A expressão deve dar <em>match</em> à direita ou à esquerda</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\n</code></td>
      <td style="text-align: right">Recupera um <em>match</em> no grupo <em>n</em></td>
    </tr>
  </tbody>
</table>

<p>Viu como as expressões são bem simples e, na maioria dos casos, os caracteres até fazem algum sentido?</p>

<h2 id="qual-a-vantagem-das-expressões-regulares">Qual a vantagem das expressões regulares</h2>
<p>A grande vantagem de usar expressões regulares é poupar tempo. Elas são uma maneira simples de encontrar padrões. Você poderia escrever um <code class="language-plaintext highlighter-rouge">if</code> gigantesco e varrer cada caracter de uma <em>string</em> para validar o formato de um e-mail, por exemplo, ou pode usar um simples <code class="language-plaintext highlighter-rouge">[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,6}</code>.</p>

<p><img src="https://imgs.xkcd.com/comics/regular_expressions.png" alt="Regex" /></p>

<h2 id="onde-usar-expressões-regulares">Onde usar expressões regulares</h2>
<p>As aplicações regulares no dia a dia do desenvolvedor são muitas. Você pode aplicar expressões regulares desde o console de debug (sim, o Xcode te dá essa opção) até nas validações de formulários. Um caso bem comum de aplicação de expressões regulares é na validação de e-mails. Além de e-mails, inúmeros campos podem ser validados com expressões regulares: telefones, CEPs, senhas, nomes, endereços, número de cartões de crédito etc.</p>

<h2 id="como-usar-expressões-regulares-no-ios">Como usar expressões regulares no iOS</h2>
<p>Usar expressão regular no iOS é muito simples. Existe uma classe (<code class="language-plaintext highlighter-rouge">NSRegularExpression</code>) que pede no seu construtor a expressão e as opções que serão aplicadas no momento do <em>match</em>. Assim, caso você queira uma função para validar um campo CEP, por exemplo, pode fazer:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">validateZipCode</span><span class="p">(</span><span class="nv">zipCode</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
	<span class="k">let</span> <span class="nv">regex</span> <span class="o">=</span> <span class="k">try!</span> <span class="kt">NSRegularExpression</span><span class="p">(</span><span class="nv">pattern</span><span class="p">:</span> <span class="s">"^[0-9]{2}[0-9]{3}-[0-9]{3}$"</span><span class="p">,</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="kt">CaseInsensitive</span><span class="p">])</span>

	<span class="k">let</span> <span class="nv">regexResult</span> <span class="o">=</span> <span class="n">regex</span><span class="o">.</span><span class="nf">firstMatchInString</span><span class="p">(</span><span class="n">zipCode</span><span class="p">,</span> <span class="nv">options</span><span class="p">:[],</span> <span class="nv">range</span><span class="p">:</span> <span class="kt">NSMakeRange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">utf16</span><span class="o">.</span><span class="n">count</span><span class="p">))</span> <span class="o">!=</span> <span class="kc">nil</span>

	<span class="k">if</span> <span class="o">!</span><span class="n">regexResult</span> <span class="p">{</span>
		<span class="k">return</span> <span class="kc">false</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Uma dica para você praticar é o site <a href="http://www.regexpal.com">Regex Pal</a>. Nele, é possível definir uma <em>string</em> e testar as suas expressões à vontade.</p>

<p>Se quiser, crie uma expressão para o exemplo dado na primeira seção do artigo e deixe nos comentários. Só não vale ler os comentários anteriores ;)</p>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/gamedev/2016/03/10/Unity3DeoMundoApple/" data-toggle="tooltip" data-placement="top" title="Unity3D e o Mundo Apple">&larr; Post Anterior</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/webview/2016/03/12/webview-a-porta-de-entrada-para-desenvolvedores-web/" data-toggle="tooltip" data-placement="top" title="WebView">Próximo Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- Disqus Content -->

                <div id="disqus_thread">
                    <script>
                        /**
                        * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                        * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
                        */

                        /*
                        var disqus_config = function () {
                            this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
                            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                        };
                        */

                        (function() { // DON'T EDIT BELOW THIS LINE
                        var d = document, s = d.createElement('script');

                        s.src = '//equinocios.disqus.com/embed.js';

                        s.setAttribute('data-timestamp', +new Date());
                        (d.head || d.body).appendChild(s);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
                </div>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                </ul>
                <p class="copyright text-muted">A odisseia do puto — Raimundo Pessoa & Frederico Do</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
