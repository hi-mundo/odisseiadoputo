<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.10.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2026-02-17T20:12:18-03:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">A odisseia do puto</title><subtitle>Blog de tecnologia e desenvolvimento ‚Äî artigos, tutoriais e opini√£o.</subtitle><entry><title type="html">Integra√ß√£o Cont√≠nua com Travis-CI</title><link href="http://localhost:4000/ios/2017/03/26/integracao-continua-com-travis-ci/" rel="alternate" type="text/html" title="Integra√ß√£o Cont√≠nua com Travis-CI" /><published>2017-03-26T09:00:00-03:00</published><updated>2017-03-26T09:00:00-03:00</updated><id>http://localhost:4000/ios/2017/03/26/integracao-continua-com-travis-ci</id><content type="html" xml:base="http://localhost:4000/ios/2017/03/26/integracao-continua-com-travis-ci/"><![CDATA[<h1 id="lorem-ipsum-dolor-sit">Lorem Ipsum Dolor Sit</h1>

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>

<p>Voc√™ pode ler um pouco mais sobre o assunto <a href="https://example.com">aqui (conte√∫do em ingl√™s)</a>.</p>

<h1 id="travis-ci">Travis CI</h1>

<p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<p>O uso do Travis para projetos <em>open source</em> √© gratuito üéâ. Para utiliz√°-lo em projetos privados voc√™ ter√° que desembolsar alguns d√≥lares.</p>

<p>Para come√ßar a utilizar basta acessar <a href="https://travis-ci.org">travis-ci.org</a> para projetos <em>open source</em> ou <a href="https://travis-ci.com">travis-ci.com</a> para projetos privados.</p>

<h1 id="benef√≠cios">Benef√≠cios</h1>

<p>Entre os benef√≠cios do uso do Travis destaco a velocidade em que os problemas corriqueiros s√£o encontrados. Outro ponto interessante √© a integra√ß√£o realizada pelo Travis com o GitHub.</p>

<p><img src="/img/serralvo/commits-travis.png" alt="" /></p>

<p><em>Marca√ß√£o visual do status da build</em></p>

<h1 id="hora-do-show">Hora do Show</h1>

<p>Para exemplificar o funcionamento do Travis criei um projeto. Esse projeto gerou tr√™s √≠tens para explorarmos:</p>

<ul>
  <li>Ser√° necess√°rio gerenciar as depend√™ncias do projeto.</li>
  <li>Execu√ß√£o da <em>build</em>.</li>
  <li>Por fim, notificaremos o time sobre o <em>status</em> do projeto.</li>
</ul>

<h1 id="arquivo-travisyml">Arquivo .travis.yml</h1>

<p>Para que essas tarefas listadas acima funcionem, n√≥s precisaremos criar um arquivo que fornecer√° instru√ß√µes para o Travis. A√≠ √© que entra o <code class="language-plaintext highlighter-rouge">.travis.yml</code>.</p>

<p>Antes de come√ßarmos a escrever o arquivo de configura√ß√£o, precisamos entender como funciona o ciclo de vida do processo de <em>build</em> do Travis. O Travis divide a execu√ß√£o do <em>job</em> em duas etapas.</p>

<p><img src="/img/serralvo/travis-ci-org.png" alt="" /></p>

<p>O pr√≥ximo passo √© ‚Äúativar‚Äù o Travis para o reposit√≥rio desejado.</p>

<p><img src="/img/serralvo/start-travis.png" alt="" /></p>

<p>Ap√≥s o cadastro chegou a hora de criar o arquivo <em>.travis.yml</em> na raiz do reposit√≥rio. Veja abaixo:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>language: objective-c
osx_image: xcode8.1
</code></pre></div></div>

<p>U√©, <code class="language-plaintext highlighter-rouge">objective-c</code>?! Mas o projeto n√£o est√° escrito em Swift? Sim, at√© o momento o Travis utiliza o valor <code class="language-plaintext highlighter-rouge">objective-c</code> para Swift e tamb√©m para Objective-C.</p>

<h2 id="baixando-as-depend√™ncias">Baixando as depend√™ncias</h2>

<p>Se voc√™ j√° usou CocoaPods ao menos uma vez, sabe que basta executar <code class="language-plaintext highlighter-rouge">pod install</code>. No ambiente do Travis isso √© um pouco diferente:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>podfile: path/to/Podfile
</code></pre></div></div>

<p>Se o seu projeto usa outro gerenciador de depend√™ncias:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>install: sh dependencies.sh
</code></pre></div></div>

<h2 id="build-e-sucesso">Build e Sucesso</h2>

<p>Ap√≥s obter as depend√™ncias do projeto, basta apenas configurar alguns par√¢metros para a execu√ß√£o da <em>build</em>. S√£o eles:</p>

<ul>
  <li><em>Path</em> do <code class="language-plaintext highlighter-rouge">xcworkspace</code> ou <code class="language-plaintext highlighter-rouge">xcproject</code>.</li>
  <li>Algum <em>scheme</em> com a op√ß√£o <em>shared</em> ativada.</li>
  <li>SDK que ser√° usado (no caso estamos usando <code class="language-plaintext highlighter-rouge">iphonesimulator</code>).</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>script:
  - xcodebuild -workspace DemoTravisCI.xcworkspace -scheme 'DemoTravisCI' -sdk iphonesimulator build
</code></pre></div></div>

<p>Sendo assim, no momento o arquivo <code class="language-plaintext highlighter-rouge">.travis.yml</code> possui o seguinte conte√∫do:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>language: objective-c
osx_image: xcode8.1

script:
  - xcodebuild -workspace DemoTravisCI.xcworkspace  -scheme DemoTravisCI -sdk iphonesimulator build
</code></pre></div></div>

<h2 id="notifica√ß√µes">Notifica√ß√µes</h2>

<p>Para detectar poss√≠veis problemas com o projeto, √© interessante compartilhar o status da <em>build</em> com o time. O Travis prov√™ diversas op√ß√µes para notifica√ß√µes. No nosso caso, vamos ser avisados via Slack üì¢.</p>

<p>Para isso, o primeiro passo √© adicionar uma nova integra√ß√£o ao Slack. Conclu√≠do tal passo, vamos incluir a chave <code class="language-plaintext highlighter-rouge">notifications</code> no arquivo <code class="language-plaintext highlighter-rouge">.travis.yml</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>notifications:
  slack: yourteam:G1P621hDDwEH3pXeCcJpck8i
</code></pre></div></div>

<p>Importante: Caso seu projeto seja aberto, √© recomendado criptografar a chave.</p>

<h1 id="considera√ß√µes-finais">Considera√ß√µes Finais</h1>

<p>Ferramentas de integra√ß√£o cont√≠nua s√£o realidade no mercado e fazem parte da rotina de qualquer grande projeto de software. Se voc√™ se interessou pelo assunto e deseja implantar tal processo em seus projetos, saiba que existem diversas op√ß√µes, como Jenkins, Xcode Server, CircleCI, entre outras.</p>

<p>Para finalizar, Integra√ß√£o Cont√≠nua √© um dos pilares do desenvolvimento √°gil üôÉ.</p>

<h3 id="referencias">Referencias:</h3>

<ul>
  <li><a href="https://docs.travis-ci.com/user/getting-started/">Getting started</a></li>
  <li><a href="https://docs.travis-ci.com/user/languages/objective-c/">Building an Objective-C Project</a></li>
  <li><a href="https://docs.travis-ci.com/user/notifications/">Notifications</a></li>
</ul>]]></content><author><name>Fabricio Serralvo</name></author><category term="ios" /><summary type="html"><![CDATA[Lorem Ipsum Dolor Sit]]></summary></entry></feed>